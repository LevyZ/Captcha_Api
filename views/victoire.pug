extends interface.pug

block contenu 
    .conteneur.victoire
        script(src='https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js')
        .win
            h1.ml2 Bravo !!!
            iframe.giphy-embed.centrer(src='https://giphy.com/embed/Wx9ygu5vPO5G61C9pk', width='480', height='346', frameborder='0', allowfullscreen='')
            
            button.btn.btn-primary.victoire#btnFrame(type='submit') Générer une frame
            -var laFrame = "<iframe width='1000' height='1000' src='"+lien+"'></iframe>"
            p(id="frame")=laFrame

            script.
                
                var envoi = document.getElementById('envoi');
                envoi.style.display = "block";

                var btnFrame = document.getElementById('btnFrame');
                btnFrame.addEventListener("click" , () => {
                    var frame = document.getElementById('frame');
                    frame.style.visibility = "visible";
                });
                // Wrap every letter in a span
                $('.ml2').each(function(){
                $(this).html($(this).text().replace(/([^\\x00-\x80]|\w)/g, "<span class='letter'>$&</span>"));
                });
                anime.timeline({loop: true})
                .add({
                targets: '.ml2 .letter',
                scale: [4,1],
                opacity: [0,1],
                translateZ: 0,
                easing: "easeOutExpo",
                duration: 950,
                delay: function(el, i) {
                return 70*i;
                }
                }).add({
                targets: '.ml2',
                opacity: 0,
                duration: 1000,
                easing: "easeOutExpo",
                delay: 1000
                });
